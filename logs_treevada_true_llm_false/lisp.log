**** Running search.py ****
python3 search.py external Seed_Programs/micro-benchmarks/lisp/parse_lisp Seed_Programs/micro-benchmarks/lisp/guides-r1 Seed_Programs/lisp-r1-tv.log
Using approximate pre-tokenization stage
Average guide length in char: 79.2, max guide length: 428
Average token length: 76.7, max token length: 418
Guides with brackets: 22, quotes: 0
Building the starting grammar...                  Building the starting trees...                    Average number of brackets(not normalized): 16.533333333333335
Average lengths of brackets(not normalized): 4.146276261322454
Average n: 76.7
Beginning coalescing...                           
LLM suggested label: identifier for w and sa
LLM suggested label: num for 1 and 3
max example size 418, node size: 9
Number of bubbles:  33
LLM suggested label: expr for 4 (((((n . v) . z) . j) . ((z) o)) . nsy) and 4 g

[Group len 3] Bubbling iteration 1 (3/100)...     
Successful grouping (double): [8,  , stmt], [4,  , g]
     (aka ['8', ' ', '(v . (y . n))'], ['4', ' ', 'g']))
coalesced into:  {'t488': 'expr', 't501': 'expr'}
Number of bubbles:  38

[Group len 3] Bubbling iteration 2 (1/100)...     
Successful grouping (single): [expr,  , stmt]
    (aka ['5 ((g4 . n3) . f)', ' ', '((((m . s) . l)) . ((u . (g))))']
coalesced into:  {'t545': 'expr', 'expr': 'expr'}
Reapply: 1

[Group len 3] Bubbling iteration 2 (1/100)...     
Successful grouping (single): [expr,  , stmt]
    (aka ['5 ((g4 . n3) . f)', ' ', '((((m . s) . l)) . ((u . (g))))']
coalesced into:  {'t546': 'expr', 'expr': 'expr'}
Reapply: 2

[Group len 3] Bubbling iteration 2 (1/100)...     
Successful grouping (single): [expr,  , stmt]
    (aka ['5 ((g4 . n3) . f)', ' ', '((((m . s) . l)) . ((u . (g))))']
coalesced into:  {'t547': 'expr', 'expr': 'expr'}
Number of bubbles:  37

[Group len 3] Bubbling iteration 3 (2/100)...     
Successful grouping (single): [expr,  , l]
    (aka ['7 ((m) . (q . z))', ' ', 'l']
coalesced into:  {'t586': 'expr', 'expr': 'expr'}
Number of bubbles:  37

[Group len 3] Bubbling iteration 4 (2/100)...     
Successful grouping (single): [expr,  , stmt]
    (aka ['7 ((m) . (q . z)) l', ' ', '(((x)) . ((p f) . (y a)))']
coalesced into:  {'t629': 'expr', 'expr': 'expr'}
Number of bubbles:  37
LLM suggested label: num for 0m  and 0 
 Next suggestion: numexpr2

[Group len 3] Bubbling iteration 5 (14/100)...    
Successful grouping (double): [6, l,  ], [8,  ]
     (aka ['6', 'l', ' '], ['8', ' ']))
coalesced into:  {'t673': 'numexpr2', 't656': 'numexpr2'}
Number of bubbles:  43

[Group len 3] Bubbling iteration 6 (3/100)...     
Successful grouping (single): [3, j, numexpr2]
    (aka ['3', 'j', '9q ']
coalesced into:  {'t726': 'numexpr2', 'numexpr2': 'numexpr2'}
Number of bubbles:  42
LLM suggested label: identifier for  b3t  and  (((q . u) . h) . (i)) 
 Next suggestion: complexid

[Group len 3] Bubbling iteration 7 (3/100)...     
Successful grouping (double): [ , b, numexpr2], [ , stmt,  ]
     (aka [' ', 'b', '3t '], [' ', '(n)', ' ']))
coalesced into:  {'t777': 'complexid', 't758': 'complexid'}
Number of bubbles:  55

[Group len 3] Bubbling iteration 8 (1/100)...     
Successful grouping (single): [ , stmt, complexid]
    (aka [' ', '((p) . y)', ' b3t ']
coalesced into:  {'t842': 'complexid', 'complexid': 'complexid'}
Number of bubbles:  54

[Group len 3] Bubbling iteration 9 (1/100)...     
Successful grouping (single): [complexid, f, complexid]
    (aka [' ((i) . t) ', 'f', ' k ']
coalesced into:  {'t905': 'complexid', 'complexid': 'complexid'}
Number of bubbles:  52

[Group len 3] Bubbling iteration 10 (3/100)...    
Successful grouping (single): [complexid, stmt,  ]
    (aka [' os ', '((r u) . s0)', ' ']
coalesced into:  {'t963': 'complexid', 'complexid': 'complexid'}
Number of bubbles:  52
LLM suggested label: expr for um4 g d (w)  and ((((q f) . ((d . p) . z)) ((v . y) . s))) pi ((h)) 
 Next suggestion: complexexpr

[Group len 3] Bubbling iteration 11 (1/100)...    
Successful grouping (double): [um, expr,  ], [stmt, complexid]
     (aka ['um', '4 g d (w)', ' '], ['(gx . (((((o . z) . (y . b))) jt) . ((((o . s) . h)))))', ' ((g . (w)) d z (y . c)) ']))
coalesced into:  {'t1031': 'complexexpr', 't1020': 'complexexpr'}
Number of bubbles:  51
LLM suggested label: expr for h (a . w) and i5q (((vv7 . w7)) (z . (((w . v)) . n7)))
 Next suggestion: expr2

[Group len 3] Bubbling iteration 12 (8/100)...    
Successful grouping (double): [z,  , stmt], [i, numexpr2, stmt]
     (aka ['z', ' ', '(y . c)'], ['i', '5q ', '(((vv7 . w7)) (z . (((w . v)) . n7)))']))
coalesced into:  {'t1091': 'expr2', 't1098': 'expr2'}
Number of bubbles:  55

[Group len 3] Bubbling iteration 13 (3/100)...    
Successful grouping (single): [d,  , expr2]
    (aka ['d', ' ', 'z (y . c)']
coalesced into:  {'t1159': 'expr2', 'expr2': 'expr2'}
Number of bubbles:  54

[Group len 3] Bubbling iteration 14 (3/100)...    
Successful grouping (single): [expr2,  , r]
    (aka ['z0u ((((u y) (m . n))) . (p))', ' ', 'r']
coalesced into:  {'t1251': 'expr2', 'expr2': 'expr2'}
Number of bubbles:  53

[Group len 3] Bubbling iteration 15 (10/100)...   
Successful grouping (single): [stmt,  , expr2]
    (aka ['(g . (w))', ' ', 'd z (y . c)']
coalesced into:  {'t1307': 'expr2', 'expr2': 'expr2'}
Number of bubbles:  52

[Group len 3] Bubbling iteration 16 (12/100)...   
Successful grouping (single): [expr2,  ]
    (aka ['i5q (((vv7 . w7)) (z . (((w . v)) . n7)))', ' ']
coalesced into:  {'t1393': 'complexexpr', 'complexexpr': 'complexexpr'}
Number of bubbles:  50
LLM suggested label: expr for (((l5) . (((w) . w) . ((w) n x))) ((p) . y) b3t ((f) w h (a . w))) (n7 . (rs . (a . ((a) . u)))) d83 and (b5 (((k . g) . (w)) (r . z)) l) (y) (x j) w5 ((g4 . n3) . f) ((((m . s) . l)) . ((u . (g)))) c c
 Next suggestion: complexexpr
 Next suggestion: complexstmt

[Group len 3] Bubbling iteration 17 (11/100)...   
Successful grouping (double): [complexexpr, iz, 4], [complexexpr, q, expr]
     (aka ['((m)) ((y . v) . w) ', 'iz', '4'], ['(m0 . ((j) (f . g) (w b))) os ((r u) . s0) ', 'q', '4 (((((n . v) . z) . j) . ((z) o)) . nsy)']))
coalesced into:  {'t1463': 'complexstmt', 't1464': 'complexstmt'}
Number of bubbles:  49
LLM suggested label: expr for (((((((f . g)) . d) ((a . l) a y)) . u7) . ((((o) . o4)) (ei1 . ((j . l) e m)))) . ((((((fc . (n)) . l) . (ly o)) . ((((a . y)) . ht2) . ((r) (b . x)))) . qrv5f) . ((l . ((((l . o) . (n)) . c) . ((f . z) j))) (((q . u) . h) . (i)) iwz))) . and a .
 Next suggestion: complexexpr
 Next suggestion: complexstmt
 Next suggestion: complexexpr2

[Group len 3] Bubbling iteration 18 (16/100)...   
Successful grouping (double): [stmt,  , .], [d,  , .]
     (aka ['((((k) . g) . ((d . s) . (p . s))) . ((m u) . (y n)))', ' ', '.'], ['d', ' ', '.']))
coalesced into:  {'t1479': 'complexexpr2', 't1492': 'complexexpr2'}
Number of bubbles:  50

[Group len 3] Bubbling iteration 19 (32/100)...   
Successful grouping (single): [complexexpr2,  , stmt]
    (aka ['((((k) . g) . ((d . s) . (p . s))) . ((m u) . (y n))) .', ' ', '(((q . j)) . u)']
coalesced into:  {'t1554': 'complexstmt', 'complexstmt': 'complexstmt'}
Number of bubbles:  49
LLM suggested label: expr for (((((((f . g)) . d) ((a . l) a y)) . u7) . ((((o) . o4)) (ei1 . ((j . l) e m)))) . ((((((fc . (n)) . l) . (ly o)) . ((((a . y)) . ht2) . ((r) (b . x)))) . qrv5f) . ((l . ((((l . o) . (n)) . c) . ((f . z) j))) (((q . u) . h) . (i)) iwz)))  and b3t 
 Next suggestion: complexexpr
 Next suggestion: complexstmt
 Next suggestion: complexterm

[Group len 3] Bubbling iteration 20 (34/100)...   
Successful grouping (double): [stmt,  ], [b, numexpr2]
     (aka ['((((k) . g) . ((d . s) . (p . s))) . ((m u) . (y n)))', ' '], ['b', '7 ']))
coalesced into:  {'t1637': 'complexterm', 't1670': 'complexterm'}
Number of bubbles:  47

[Group len 3] Bubbling iteration 21 (2/100)...    
Successful grouping (single): [complexterm, e, 71]
    (aka ['(h . (((u . f) . (n)) . (e))) ', 'e', '71']
coalesced into:  {'t1771': 'complexstmt', 'complexstmt': 'complexstmt'}
Number of bubbles:  46

[Group len 3] Bubbling iteration 22 (2/100)...    
Successful grouping (single): [ , expr2]
    (aka [' ', 'z (y . c)']
coalesced into:  {'t1841': 'expr', 'expr': 'expr'}
Number of bubbles:  45

[Group len 3] Bubbling iteration 23 (8/100)...    
Successful grouping (single): [ , g,  ]
    (aka [' ', 'g', ' ']
coalesced into:  {'t1887': 'complexid', 'complexid': 'complexid'}
Number of bubbles:  45

[Group len 3] Bubbling iteration 24 (9/100)...    
Successful grouping (single): [complexterm, q, complexid]
    (aka ['((z . m) . (a)) ', 'q', ' g ']
coalesced into:  {'t1960': 'complexexpr', 'complexexpr': 'complexexpr'}
Number of bubbles:  44
LLM suggested label: expr for a h and (((l5) . (((w) . w) . ((w) n x))) ((p) . y) b3t ((f) w h (a . w))) (n7 . (rs . (a . ((a) . u)))) d
 Next suggestion: complexexpr
 Next suggestion: complexstmt
 Next suggestion: complexexpr2
 Next suggestion: complexstmt1

[Group len 3] Bubbling iteration 25 (16/100)...   
Successful grouping (double): [m,  , u], [complexexpr, w]
     (aka ['m', ' ', 'u'], ['((z . m) . (a)) q g ', 'w']))
coalesced into:  {'t2025': 'complexstmt1', 't2035': 'complexstmt1'}
Number of bubbles:  45

[Group len 3] Bubbling iteration 26 (1/100)...    
Successful grouping (single): [q, complexid, h]
    (aka ['q', ' p ', 'h']
coalesced into:  {'t2152': 'complexstmt1', 'complexstmt1': 'complexstmt1'}
Number of bubbles:  44

[Group len 3] Bubbling iteration 27 (3/100)...    
Successful grouping (single): [q, complexid]
    (aka ['q', ' g ']
coalesced into:  {'t2195': 'complexexpr', 'complexexpr': 'complexexpr'}
Number of bubbles:  43

[Group len 3] Bubbling iteration 28 (15/100)...   
Successful grouping (single): [complexterm, .]
    (aka ['((((k) . g) . ((d . s) . (p . s))) . ((m u) . (y n))) ', '.']
coalesced into:  {'t2249': 'complexexpr2', 'complexexpr2': 'complexexpr2'}
Number of bubbles:  39

[Group len 3] Bubbling iteration 29 (14/100)...   
Successful grouping (single): [complexexpr2,  , stmt]
    (aka ['((((k) . g) . ((d . s) . (p . s))) . ((m u) . (y n))) .', ' ', '(((q . j)) . u)']
coalesced into:  {'t2322': 'complexstmt', 'complexstmt': 'complexstmt'}
Number of bubbles:  38
LLM suggested label: expr for pek g w (n)  and (((((((f . g)) . d) ((a . l) a y)) . u7) . ((((o) . o4)) (ei1 . ((j . l) e m)))) . ((((((fc . (n)) . l) . (ly o)) . ((((a . y)) . ht2) . ((r) (b . x)))) . qrv5f) . ((l . ((((l . o) . (n)) . c) . ((f . z) j))) (((q . u) . h) . (i)) iwz))) . 
 Next suggestion: complexexpr
 Next suggestion: complexstmt
 Next suggestion: complexexpr2
 Next suggestion: complexexpr3

[Group len 3] Bubbling iteration 30 (17/100)...   
Successful grouping (double): [complexterm, complexstmt1, complexid], [complexexpr2,  ]
     (aka ['pek ', 'g w', ' (n) '], ['((((k) . g) . ((d . s) . (p . s))) . ((m u) . (y n))) .', ' ']))
coalesced into:  {'t2430': 'complexexpr3', 't2395': 'complexexpr3'}
Number of bubbles:  34
LLM suggested label: expr for  a and  ((((m . s) . l)) . ((u . (g))))
 Next suggestion: simpleexpr

[Group len 3] Bubbling iteration 31 (9/100)...    
Successful grouping (double): [ , u], [ , stmt]
     (aka [' ', 'u'], [' ', '(((x)) . ((p f) . (y a)))']))
coalesced into:  {'t2488': 'simpleexpr', 't2515': 'simpleexpr'}
Number of bubbles:  33

[Group len 3] Bubbling iteration 32 (5/100)...    
Successful grouping (single): [complexterm, complexstmt1]
    (aka ['pek ', 'g w']
coalesced into:  {'t2578': 'complexstmt1', 'complexstmt1': 'complexstmt1'}
Number of bubbles:  31
LLM suggested label: expr for (((((k)) . t) (u)) . (jrr)) . h28 and (((((k)) . t) (u)) . (jrr)) . h
 Next suggestion: complexexpr
 Next suggestion: complexstmt
 Next suggestion: complexaccess

[Group len 3] Bubbling iteration 33 (9/100)...    
Successful grouping (double): [complexexpr3, z, 9], [complexexpr3, g]
     (aka ['(((g . h)) . (r)) . ', 'z', '9'], ['(k) . ', 'g']))
coalesced into:  {'t2648': 'complexaccess', 't2623': 'complexaccess'}
Number of bubbles:  32

[Group len 3] Bubbling iteration 34 (3/100)...    
Successful grouping (single): [complexaccess, n]
    (aka ['(((((k)) . t) (u)) . (jrr)) . h28', 'n']
coalesced into:  {'t2746': 'complexaccess', 'complexaccess': 'complexaccess'}
Number of bubbles:  31

[Group len 3] Bubbling iteration 35 (5/100)...    
Successful grouping (single): [complexaccess, 9]
    (aka ['(((g . h)) . (r)) . z', '9']
coalesced into:  {'t2795': 'complexstmt', 'complexstmt': 'complexstmt'}
Number of bubbles:  30

[Group len 3] Bubbling iteration 36 (5/91)...     
Successful grouping (single): [complexterm, stmt]
    (aka ['((u)) ', '(((e) . (u)) . ((p) . o))']
coalesced into:  {'t2872': 'complexstmt', 'complexstmt': 'complexstmt'}
Number of bubbles:  29

[Group len 3] Bubbling iteration 37 (5/78)...     
Successful grouping (single): [w, 1]
    (aka ['w', '1']
coalesced into:  {'t2927': 'identifier', 'identifier': 'identifier'}
Number of bubbles:  27

[Group len 3] Bubbling iteration 38 (3/55)...     
Successful grouping (single): [6, l]
    (aka ['6', 'l']
coalesced into:  {'t3031': 'num', 'num': 'num'}
Number of bubbles:  26

[Group len 3] Bubbling iteration 39 (3/44)...     
Successful grouping (single): [d,  ]
    (aka ['d', ' ']
coalesced into:  {'t3063': 'complexterm', 'complexterm': 'complexterm'}
Number of bubbles:  24

[Group len 3] Bubbling iteration 40 (2/28)...     
Successful grouping (single): [complexexpr, stmt]
    (aka ['(((d)) z (d a)) lq ', '(h6l . (((m)) ((y . v) . w) iz4))']
coalesced into:  {'t3164': 'expr2', 'expr2': 'expr2'}
Number of bubbles:  22

[Group len 3] Bubbling iteration 41 (2/15)...     
Successful grouping (single): [complexterm, identifier]
    (aka ['(h . (((u . f) . (n)) . (e))) ', 'e71']
coalesced into:  {'t3239': 'complexstmt1', 'complexstmt1': 'complexstmt1'}
Number of bubbles:  21

[Group len 3] Bubbling iteration 42 (2/10)...     
Successful grouping (single): [v, expr]
    (aka ['v', '8 (v . (y . n))']
coalesced into:  {'t3276': 'expr2', 'expr2': 'expr2'}
Number of bubbles:  19

[Group len 3] Bubbling iteration 43 (1/3)...      
Successful grouping (single): [identifier, identifier]
    (aka ['z46', 'y7']
coalesced into:  {'t3362': 'complexstmt', 'complexstmt': 'complexstmt'}
Number of bubbles:  18

[Group len 3] Bubbling iteration 44 (1/1)...      
Successful grouping (single): [complexexpr, expr2]
    (aka ['(gx . (((((o . z) . (y . b))) jt) . ((((o . s) . h))))) ((g . (w)) d z (y . c)) ', '(((d)) z (d a)) lq (h6l . (((m)) ((y . v) . w) iz4))']
coalesced into:  {'t3431': 'complexstmt', 'complexstmt': 'complexstmt'}
Number of bubbles:  17
Number of bubbles:  17
Number of bubbles:  17
Number of bubbles:  17
Number of bubbles:  17
Building initial grammar...                       Coalescing nonterminals...                        Minimizing initial grammar...                     Pickling grammar...
Date: 2025-05-24 14:13:53
Time spent in oracle calls: 189.41787457466125
Time spent building grammar: 369.59186005592346s
Time breakdown: {'FIRST_COALESCE': 155.06636023521423, 'BUILD': 204.2306113243103, 'LAST_COALESCE': 5.4244866371154785, 'EXPAND': 4.086320877075195, 'MINIMIZE': 0.0002574920654296875, 'OVERALL_EXAMPLE_GEN': 52.19318699836731, 'OVERALL_GROUPING': 0, 'REAPPLY_COUNT': 2}
Parse calls: 49748, 46207
LLM calls for bubble finding: 0
**** Running eval.py ****
start: stmt
stmt: "(" complexstmt ")"
    | "(" complexaccess ")"
    | "(" stmt ")"
    | "k"
    | "(" complexstmt1 ")"
    | identifier num
    | "(" expr2 ")"
    | "ww"
    | "(" identifier ")"
    | "pek"
    | identifier identifier
    | "gx"
    | "jt"
    | "c"
    | "lq"
    | identifier
    | "xkrbm"
    | "ja"
    | "xp"
    | "tf"
    | "os"
    | "nsy"
    | "zh"
    | "ak"
    | "jrr"
    | "fc"
    | "ly"
    | "iwz"
    | "tw"
    | "ag"
    | "pi"
    | "mhm"
    | "wpp"
    | "ee"
    | "qq"
    | "qs"
    | "pr"
    | "mja"
    | "yr"
    | "af"
    | "jb"
    | "evy"
    | "nq"
    | "jd"
    | "ls"
    | "gi"
    | "rs"
    | "tr"
    | complexstmt
complexstmt: complexexpr3 stmt
    | complexterm stmt
    | complexexpr expr2
    | complexstmt1 num
    | complexterm identifier
    | complexstmt1 expr
    | complexaccess num
    | identifier identifier
    | stmt num
complexexpr3: complexexpr2 " "
    | complexstmt1 complexid
complexexpr2: complexterm "."
    | stmt "."
complexterm: stmt " "
    | identifier " "
    | identifier numexpr2
complexaccess: complexexpr3 identifier
    | complexaccess num
    | complexaccess identifier
identifier: "g"
    | "d"
    | "s"
    | "p"
    | "m"
    | "u"
    | "y"
    | "n"
    | "q"
    | "j"
    | "w"
    | "sa"
    | "v"
    | "l"
    | "z"
    | "a"
    | "h"
    | "r"
    | "o"
    | "e"
    | identifier num
    | "b"
    | "ru"
    | "x"
    | "f"
    | "iz"
    | "t"
    | "i"
    | "ei"
    | "ht"
    | "qrv"
    | "ke"
    | "vv"
    | "um"
    | "sty"
    | "su"
    | "qp"
    | "gz"
complexstmt1: identifier simpleexpr
    | complexexpr identifier
    | complexterm complexstmt1
    | complexterm identifier
simpleexpr: " " identifier
    | " " stmt
num: num identifier
    | tdigits
expr2: identifier expr
    | complexterm expr2
    | identifier simpleexpr
    | complexexpr stmt
    | complexterm stmt
    | complexexpr identifier
expr: numexpr2 stmt
    | expr simpleexpr
    | " " expr2
    | numexpr2 identifier
numexpr2: num " "
    | num complexterm
complexexpr: complexterm complexexpr
    | identifier complexid
    | stmt complexid
    | expr2 " "
complexid: simpleexpr " "
    | " " complexterm
    | complexid complexterm
    | complexid complexexpr
    | " " complexexpr
tdigits: tdigit
    | tdigit tdigits
tdigit: "0"
    | "1"
    | "2"
    | "3"
    | "4"
    | "5"
    | "6"
    | "7"
    | "8"
    | "9"
Loading grammar
Precision set (size 1000):
Eval of precision:
Recall set (size 1000):
Recall eval:
Recall: 0.718, Precision: 0.862, F-1: 0.7834379746835443
**** Running search.py ****
